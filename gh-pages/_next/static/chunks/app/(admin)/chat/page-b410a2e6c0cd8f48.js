(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7142],{1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return u},getImageProps:function(){return o}});let l=r(8229),n=r(8883),a=r(3063),s=l._(r(1193));function o(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/yunce-nextjs-portal/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=a.Image},3968:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var l=r(5155),n=r(2115),a=r(6766);function s(){let e="/yunce-nextjs-portal",t=t=>t.startsWith("http")||e&&t.startsWith(e+"/")?t:"".concat(e).concat(t.startsWith("/")?"":"/").concat(t),[r,s]=(0,n.useState)([{id:"m1",role:"assistant",text:"您好，我是云策AI助手。有什么可以帮您？",tone:"info"},{id:"m2",role:"user",text:"请用大语言模型帮我总结最近的销售数据亮点。",tone:"primary"},{id:"m3",role:"assistant",text:"本月增长主要来自北美与欧洲市场，客单价环比提升 8%。",tone:"success"}]),[o,u]=(0,n.useState)(""),i=(0,n.useRef)(null),c=(0,n.useMemo)(()=>t("/images/user/user-02.jpg"),[e]),d=(0,n.useMemo)(()=>t("/images/logo/logo-icon.svg"),[e]),f=()=>{var e;let t=o.trim();if(!t)return;let r={id:"m-".concat(Date.now()),role:"user",text:t,tone:"primary"};s(e=>[...e,r]),u(""),setTimeout(()=>{var e;s(e=>[...e,{id:"m-".concat(Date.now(),"-ai"),role:"assistant",text:"这是示例回复：我已收到您的问题，稍后给出详细分析。",tone:"neutral"}]),null===(e=i.current)||void 0===e||e.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},500),null===(e=i.current)||void 0===e||e.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})};return(0,l.jsxs)("div",{className:"flex flex-col h-[calc(100vh-2rem)] gap-4 sm:gap-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"对话"})}),(0,l.jsx)("div",{ref:i,className:"flex-1 overflow-y-auto rounded-2xl border border-gray-200 p-4 dark:border-gray-800 bg-white dark:bg-white/[0.03]",children:(0,l.jsx)("div",{className:"space-y-4",children:r.map(e=>{let t="user"===e.role,r=e.tone?"chat-bubble-".concat(e.tone):"";return(0,l.jsxs)("div",{className:"chat ".concat(t?"chat-end":"chat-start"),children:[(0,l.jsx)("div",{className:"chat-image avatar",children:(0,l.jsx)("div",{className:"w-10 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-800",children:(0,l.jsx)(a.default,{src:t?c:d,alt:t?"User":"AI",width:40,height:40})})}),(0,l.jsx)("div",{className:"chat-bubble ".concat(r),children:e.text})]},e.id)})})}),(0,l.jsx)("div",{className:"rounded-2xl border border-gray-200 p-3 dark:border-gray-800 bg-white dark:bg-white/[0.03]",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{className:"input input-bordered w-full",placeholder:"输入消息，按 Enter 发送",value:o,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())}}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:f,children:"发送"})]})})]})}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let l=r(2115);function n(e,t){let r=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useCallback)(l=>{if(null===l){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,l)),t&&(n.current=a(t,l))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var l=r(1469),n=r.n(l)},7372:(e,t,r)=>{Promise.resolve().then(r.bind(r,3968))}},e=>{var t=t=>e(e.s=t);e.O(0,[3063,8441,1684,7358],()=>t(7372)),_N_E=e.O()}]);